<template>
  <require from='../attributes/auto-focus'></require>
  <require from='../attributes/keyup-enter'></require>
  <require from='../attributes/keyup-esc'></require>
  <div class="row">
    <div class="input-field col s1">
      <i class="small left material-icons">list</i>
    </div>
    <div class="input-field col s5" show.bind="!todo.editMode">
      <input type="checkbox" checked.bind='todo.completed' id="id_${todo.id}"
        click.trigger="toggleCompleted(todo)" />
      <label for="id_${todo.id}"><span show.two-way="!todo.editMode" 
        click.delegate="updateCallback(todo)" 
        class.bind="todo.completed ? 'red-text strikeout' : 'green-text'">${todo.id} - ${todo.title}</span>
      </label>
    </div>
    <div class="input-field col s5" show.bind="todo.editMode">
      <input type="text" value.bind="todo.title" 
        ref="todoTextBox"
        keyup-enter.call="updateCallback(todo)" 
        keyup-esc.call="cancelEditCallback(todo)"/>
    </div>
    <div class="input-field col s6">
      <button type="button" click.delegate="removeCallback(todo)"class="modal-action modal-close btn btn-medium waves-effect waves-light red">
                <i class="medium material-icons">delete</i>Remove </button>
      <button type="button" click.delegate="updateCallback(todo)" class="modal-action modal-close btn btn-medium waves-effect waves-light blue">
                <i class="medium material-icons">edit</i>${todo.editMode ? 'Update' : 'Edit'}</button>
    </div>
  </div>
<template>
  
